<section class="homepage-section homepage-section--services-and-info" data-module="ga4-link-tracker">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <div class="homepage-section__heading">
        <%= render "govuk_publishing_components/components/heading", {
          font_size: "l",
          heading_level: 2,
          margin_bottom: 6,
          text: t("homepage.index.services_and_information"),
        } %>
      </div>

      <%= render "govuk_publishing_components/components/cards", {
        items: t("homepage.categories").map.with_index do |item, index|
          {
            link: {
              text: raw(item[:title]),
              path: item[:link],
              data_attributes: {
                ga4_link: {
                  event_name: "navigation",
                  type: "homepage",
                  index_link: index + 1,
                  index_section: locals[:index_section],
                  index_section_count: locals[:index_section_count],
                  index_total: t("homepage.categories").length,
                  section: t("homepage.index.services_and_information", locale: :en),
                },
              },
            },
            description: raw(item[:description]),
          }
        end,
      } %>
    </div>
  </div>
</section>
