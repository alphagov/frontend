<%
  add_view_stylesheet("landing_page/card")
%>
<div class="app-b-card <%= "border-top--#{style(block.data["theme_colour"])}" %>">
  <div class="app-b-card__textbox">
    <%= render "govuk_publishing_components/components/heading", {
      text: govuk_styled_link(block.content, path: block.href),
      heading_level: 2,
    } %>
  </div>

  <% block.card_content.each do |subblock| %>
    <%
      options = {}
      options[:margin_bottom] = 0 if subblock.data["type"] == "govspeak"
      options[:height] = 200 if subblock.data["minimal"] && subblock.data["type"] == "statistics"
    %>
    <%= render_block(subblock, options:)  %>
  <% end %>

  <% if block.image %>
    <figure class="app-b-card__figure">
      <%= image_tag(block.image.source, alt: block.image.alt, class: "app-b-card__image") %>
    </figure>
  <% end %>
</div>
